<!-- index.html (starter) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>teetas.zone</title>
  <link rel="stylesheet" href="assets/css/main.css" />
  <style>
    /* Minimal inline styles to get started — move to main.css later */
    :root{
      --bg:#0f0f14; --fg:#eaeaea; --accent:#77c6a1;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{background:var(--bg);color:var(--fg);display:flex;align-items:center;justify-content:center;}
    .stage{width:92vw;max-width:1200px;height:80vh;position:relative;border-radius:12px;overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,.6)}
    .apps{position:absolute;left:28px;top:28px;display:flex;gap:14px;z-index:40}
    .app{width:120px;height:120px;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;backdrop-filter: blur(6px);border:1px solid rgba(255,255,255,0.06)}
    .app:hover{transform:translateY(-6px);transition:transform .18s}
    .content{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:120px 40px}
    .footer{position:absolute;bottom:12px;left:0;right:0;text-align:center;font-size:12px;opacity:.7}
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="apps">
      <div class="app" data-tab="garden" title="Digital Garden">🌱<div style="font-size:11px;margin-top:6px">garden</div></div>
      <div class="app" data-tab="tasks" title="Task Manager">🧠<div style="font-size:11px;margin-top:6px">tasks</div></div>
      <div class="app" data-tab="links" title="Cool Links">🔗<div style="font-size:11px;margin-top:6px">links</div></div>
      <div class="app" data-tab="guestbook" title="Guestbook">✍️<div style="font-size:11px;margin-top:6px">guestbook</div></div>
      <div class="app" data-tab="vibe" title="Vibe Room">🪩<div style="font-size:11px;margin-top:6px">vibe</div></div>
    </div>

    <div class="content" id="content">
      <div id="placeholder">
        <h1 style="font-size:28px;margin:0 0 8px">teetas.zone</h1>
        <p style="opacity:.85;max-width:58ch">a small corner of the internet. click a tile to open a mood/window.</p>
      </div>
    </div>

    <div class="footer">© by teetas<a href="/version" style="color:var(--accent)"></a></div>
  </div>

  <script>
    // app.js inline starter
    const apps = document.querySelectorAll('.app');
    const content = document.getElementById('content');
    const stage = document.getElementById('stage');

    // theme presets (palette + background)
    const themes = {
      garden:{'--bg':'linear-gradient(135deg,#133d2b,#3a6b4d)','--fg':'#e9f7ef','--accent':'#9be7b6'},
      tasks:{'--bg':'linear-gradient(180deg,#0b0b10,#071428)','--fg':'#dff6ff','--accent':'#00e6ff'},
      links:{'--bg':'linear-gradient(135deg,#fff7e6,#ffd3e2)','--fg':'#07233b','--accent':'#ff6f91'},
      guestbook:{'--bg':'linear-gradient(180deg,#f6f3ea,#efe7df)','--fg':'#222','--accent':'#9b8cff'},
      vibe:{'--bg':'linear-gradient(135deg,#2b0032,#300a3a)','--fg':'#f2e7ff','--accent':'#9f7cff'}
    };

    function applyTheme(name){
      const t = themes[name];
      if(!t) return;
      Object.keys(t).forEach(k=>document.documentElement.style.setProperty(k,t[k]));
    }

    apps.forEach(a=>{
      a.addEventListener('click',()=> {
        const tab = a.dataset.tab;
        applyTheme(tab);
        // load tab content from /tabs/<tab>.html (simple fetch)
        fetch(`tabs/${tab}.html`).then(r=>{
          if(!r.ok) throw new Error('not found');
          return r.text();
        }).then(html=>{
          content.innerHTML = html;
          history.pushState({tab}, '', `/${tab}`);
        }).catch(err=>{
          content.innerHTML = `<div style="text-align:center"><h2>Coming soon</h2><p>${tab}</p></div>`;
        });
      });
    });

    // handle back/forward (basic)
    window.addEventListener('popstate', (e)=>{
      if(e.state && e.state.tab) {
        applyTheme(e.state.tab);
        fetch(`tabs/${e.state.tab}.html`).then(r=>r.text()).then(html => content.innerHTML = html);
      } else {
        // default
        content.innerHTML = document.getElementById('placeholder')?.outerHTML || '<h1>teetas.zone</h1>';
      }
    });

    // if user visits /garden directly (when hosted), try to load that tab
    (function initFromPath(){
      const path = location.pathname.replace(/^\/+/,'').replace(/\/$/,'');
      if(path && path !== 'index.html'){
        const tab = path.split('/')[0];
        applyTheme(tab);
        fetch(`tabs/${tab}.html`).then(r=>r.text()).then(html=>content.innerHTML=html).catch(()=>{/* ignore */});
      }
    })();
  </script>
</body>
</html>